(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{pJrd:function(t,r,e){"use strict";e.r(r),e.d(r,"AuthModule",function(){return E});var o=e("PCNd"),n=e("tyNb"),i=e("fXoL"),s=e("AytR"),a=e("lJxs"),c=e("tk/3");const u=s.a.baseUrl,l=t=>t.pipe(Object(a.a)(t=>t.result.token));let b=(()=>{class t{constructor(t){this.http=t}login(t){return this.http.post(u+"/v1/user/login",t).pipe(l)}register(t){return this.http.post(u+"/v1/user/register",t).pipe(l)}}return t.\u0275fac=function(r){return new(r||t)(i.Sb(c.b))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e("1/+G"),m=e("3Pt+");let g=(()=>{class t{constructor(t){this.fb=t}getLoginRegisterForm(){return this.fb.group({email:[null,[m.k.required,m.k.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")]],password:[null,[m.k.required,m.k.minLength(6)]]})}}return t.\u0275fac=function(r){return new(r||t)(i.Sb(m.b))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=e("kmnG"),h=e("qFsG"),d=e("ofXK"),v=e("bTqV");function w(t,r){1&t&&(i.Ob(0,"mat-error"),i.pc(1,"Required"),i.Nb())}function N(t,r){1&t&&(i.Ob(0,"mat-error"),i.pc(1,"Incorrect email"),i.Nb())}function O(t,r){1&t&&(i.Ob(0,"mat-error"),i.pc(1,"Required"),i.Nb())}function y(t,r){1&t&&(i.Ob(0,"mat-error"),i.pc(1,"Minimum 6 characters"),i.Nb())}function k(t,r){1&t&&(i.Ob(0,"a",10),i.pc(1,"Register here"),i.Nb())}function I(t,r){1&t&&(i.Ob(0,"a",11),i.pc(1,"Log in here"),i.Nb())}let F=(()=>{class t{constructor(t){this.authFormsService=t,this.submitData=new i.n}ngOnInit(){this.loginForm=this.authFormsService.getLoginRegisterForm()}get emailErrors(){return this.loginForm.controls.email.errors}get passwordErrors(){return this.loginForm.controls.password.errors}submitForm(){this.submitData.emit(this.loginForm.value)}}return t.\u0275fac=function(r){return new(r||t)(i.Jb(g))},t.\u0275cmp=i.Db({type:t,selectors:[["app-auth-form"]],inputs:{title:"title"},outputs:{submitData:"submitData"},decls:20,vars:9,consts:[[1,"flex","flex-column","login-form",3,"formGroup","ngSubmit"],["appearance","standard",1,"mb-16"],["type","email","matInput","","formControlName","email"],[4,"ngIf"],["floatLabel","auto","appearance","standard",1,"mb-24"],["type","password","matInput","","formControlName","password"],["type","submit","mat-flat-button","","color","primary",1,"mb-24",3,"disabled"],[1,"pt-20"],["routerLink","/auth/register",4,"ngIf"],["routerLink","/auth/login",4,"ngIf"],["routerLink","/auth/register"],["routerLink","/auth/login"]],template:function(t,r){1&t&&(i.Ob(0,"form",0),i.Vb("ngSubmit",function(){return r.submitForm()}),i.Ob(1,"h2"),i.pc(2),i.Nb(),i.Ob(3,"mat-form-field",1),i.Ob(4,"mat-label"),i.pc(5,"Email"),i.Nb(),i.Kb(6,"input",2),i.oc(7,w,2,0,"mat-error",3),i.oc(8,N,2,0,"mat-error",3),i.Nb(),i.Ob(9,"mat-form-field",4),i.Ob(10,"mat-label"),i.pc(11,"Password"),i.Nb(),i.Kb(12,"input",5),i.oc(13,O,2,0,"mat-error",3),i.oc(14,y,2,0,"mat-error",3),i.Nb(),i.Ob(15,"button",6),i.pc(16,"Submit"),i.Nb(),i.Ob(17,"div",7),i.oc(18,k,2,0,"a",8),i.oc(19,I,2,0,"a",9),i.Nb(),i.Nb()),2&t&&(i.cc("formGroup",r.loginForm),i.zb(2),i.qc(r.title),i.zb(5),i.cc("ngIf",null==r.emailErrors?null:r.emailErrors.required),i.zb(1),i.cc("ngIf",null==r.emailErrors?null:r.emailErrors.pattern),i.zb(5),i.cc("ngIf",null==r.passwordErrors?null:r.passwordErrors.required),i.zb(1),i.cc("ngIf",null==r.passwordErrors?null:r.passwordErrors.minLength),i.zb(1),i.cc("disabled",r.loginForm.invalid),i.zb(3),i.cc("ngIf","Login"===r.title),i.zb(1),i.cc("ngIf","Register"===r.title))},directives:[m.l,m.h,m.d,f.c,f.f,h.a,m.a,m.g,m.c,d.j,v.a,f.b,n.e],styles:[".login-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"],changeDetection:0}),t})(),D=(()=>{class t{constructor(t,r,e){this.loginRegisterService=t,this.storageService=r,this.router=e}logIn(t){this.loginRegisterService.login(t).subscribe(t=>{this.storageService.set("token",t),this.router.navigate([""])},t=>console.log(t))}}return t.\u0275fac=function(r){return new(r||t)(i.Jb(b),i.Jb(p.a),i.Jb(n.b))},t.\u0275cmp=i.Db({type:t,selectors:[["app-login"]],decls:1,vars:0,consts:[["title","Login",3,"submitData"]],template:function(t,r){1&t&&(i.Ob(0,"app-auth-form",0),i.Vb("submitData",function(t){return r.logIn(t)}),i.Nb())},directives:[F],styles:[""],changeDetection:0}),t})(),S=(()=>{class t{constructor(t,r,e){this.loginRegisterService=t,this.storageService=r,this.router=e}register(t){this.loginRegisterService.register(t).subscribe(t=>{this.storageService.set("token",t),this.router.navigate(["/profile"])})}}return t.\u0275fac=function(r){return new(r||t)(i.Jb(b),i.Jb(p.a),i.Jb(n.b))},t.\u0275cmp=i.Db({type:t,selectors:[["app-registration"]],decls:1,vars:0,consts:[["title","Register",3,"submitData"]],template:function(t,r){1&t&&(i.Ob(0,"app-auth-form",0),i.Vb("submitData",function(t){return r.register(t)}),i.Nb())},directives:[F],styles:[""],changeDetection:0}),t})();const L=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=i.Db({type:t,selectors:[["app-auth-layout"]],decls:7,vars:0,consts:[[1,"login-layout"],[1,"header","p-24"],["routerLink","/"],[1,"cursor-pointer"],[1,"flex-column","mt-100"]],template:function(t,r){1&t&&(i.Ob(0,"div",0),i.Ob(1,"header",1),i.Ob(2,"h1",2),i.Ob(3,"span",3),i.pc(4,"Find friends app"),i.Nb(),i.Nb(),i.Nb(),i.Ob(5,"section",4),i.Kb(6,"router-outlet"),i.Nb(),i.Nb())},directives:[n.c,n.g],styles:[".header[_ngcontent-%COMP%]{background-color:#fafafa}"]}),t})(),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:D},{path:"register",component:S}]}];let R=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(r){return new(r||t)},imports:[[n.f.forChild(L)],n.f]}),t})(),E=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(r){return new(r||t)},providers:[g],imports:[[R,o.a]]}),t})()}}]);